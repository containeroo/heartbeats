{{define "docs"}}

{{ $siteRoot := .SiteRoot }}

<div>
  <h1 class="mt-5">Heartbeats</h1>

  <p>
    A Heartbeat waits for a ping from another service. If it does not come in the given <code>interval</code> and <code>grace</code>, it will send a notification to your configured notification services.
  </p>
</div>

<h2 class="mt-5">Example</h2>

<div class="p-3 mb-2 bg-light">
  <pre><code>heartbeats:
  - name: watchdog-prometheus-prd
    description: test prometheus -> alertmanager workflow
    interval: 5m
    grace: 30s
    notifications:
      - slack
  - name: watchdog-prometheus-int
    description: test prometheus -> alertmanager workflow
    interval: 60m
    grace: 5m
    notifications:
      - gmail
</code></pre>
</div>

<table class="table table-hover" id="heardbeats">
  <thead>
    <tr>
      <th scope="col">Key</th>
      <th scope="col">Description</th>
      <th scope="col">Example</th>
    </tr>
  </thead>
  <tbody>
    {{ range .Heartbeats }}
    <tr>
      <td>
        <span>{{.Key}}</span>
      </td>
      <td>
        <span>{{.Description}}</span>
      </td>
      <td>
        <code>{{.Example}}</code>
      </td>
    </tr>
    {{ end }}
  </tbody>
</table>

{{ end }}